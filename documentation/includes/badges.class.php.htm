<html>

<head>
<title>includes/badges.class.php</title>
</head>

<body>

<h2 align="center">includes/badges.class.php - badge administration class</h2>
<h3>Usage</h3>
<p>This class contains the functions for badge managing.</p>
<h3>Flags</h3>
<!--msimagelist--><table border="0" cellpadding="0" cellspacing="0" width="100%">
  <!--msimagelist--><tr>
    <!--msimagelist--><td valign="baseline" width="42">
    <img src="../style-data/flag.jpg" width="15" height="15" hspace="13" alt="listajel"></td>
    <td valign="top" width="100%">obligatory - this script is essential for the
    <a href="../general/framework.htm">framework</a><!--msimagelist--></td>
  </tr>
  <!--msimagelist--><tr>
    <!--msimagelist--><td valign="baseline" width="42">
    <img src="../style-data/flag.jpg" width="15" height="15" hspace="13" alt="listajel"></td>
    <td valign="top" width="100%">autoload - this script is automatically loaded by
    <a href="load.php.htm">loader</a><!--msimagelist--></td>
  </tr>
  <!--msimagelist--><tr>
    <!--msimagelist--><td valign="baseline" width="42">
    <img src="../style-data/flag.jpg" width="15" height="15" hspace="13" alt="listajel"></td>
    <td valign="top" width="100%">library - loading this script does not give direct output, it only 
  registers <a href="../general/classes.htm">classes</a>/<a href="../general/functions.htm">functions</a><!--msimagelist--></td>
  </tr>
  <!--msimagelist--></table>
<h3>Contents</h3>
<h4><img border="0" src="../style-data/variable.gif" width="10" height="9" alt="variable"> Variables</h4>
<ul>
  <li>
<img border="0" src="../style-data/private.gif" width="15" height="15" alt="private">
<a href="#priv_var_badge_array">_badge_array</a></li>
</ul>
<h4>
<img border="0" src="../style-data/function.gif" width="10" height="9" alt="function"> 
Functions</h4>
<ul>
  <li>
<img border="0" src="../style-data/public.gif" width="15" height="15" alt="public">
<a href="#pub_func_init">Init</a></li>
  <li>
<img border="0" src="../style-data/public.gif" width="15" height="15" alt="public">
<a href="#pub_func_grantBadge">GrantBadge</a></li>
  <li>
<img border="0" src="../style-data/public.gif" width="15" height="15" alt="public">
<a href="#pub_func_checkBadge">CheckBadge</a></li>
  <li>
<img border="0" src="../style-data/public.gif" width="15" height="15" alt="public">
<a href="#pub_func_badgeCount">BadgeCount</a></li>
  <li>
<img border="0" src="../style-data/public.gif" width="15" height="15" alt="public">
<a href="#pub_func_totalBadgeCount">TotalBadgeCount</a></li>
</ul>
<h3>Details</h3>
<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="AutoNumber1" height="43">
  <tr>
    <td width="100%" colspan="2" height="1">
    <h4><a name="priv_var_badge_array"></a><img border="0" src="../style-data/variable.gif" width="10" height="9" alt="variable">
<img border="0" src="../style-data/private.gif" width="15" height="15" alt="private"> 
    _badge_array</h4>
    </td>
  </tr>
  <tr>
    <td width="10%" height="57">Description</td>
    <td width="90%" height="57">This array contains the data for badges. Array 
    keys and values look like this:<p>Badge's codename - array(badge picture 
    filename, localized name, localized tooltip)</td>
  </tr>
  <tr>
    <td width="10%" height="10">Set by</td>
    <td width="90%" height="10"><a href="#pub_func_init">Init</a></td>
  </tr>
  <tr>
    <td width="10%" height="9">Get by</td>
    <td width="90%" height="9"><a href="#pub_func_grantBadge">GrantBadge</a><br>
    <a href="#pub_func_checkBadge">CheckBadge</a><br>
    <a href="#pub_func_badgeCount">BadgeCount</a><br>
    <a href="#pub_func_totalBadgeCount">TotalBadgeCount</a></td>
  </tr>
</table>

<p>&nbsp;</p>

<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="AutoNumber1" height="41">
  <tr>
    <td width="100%" colspan="2" height="1">
    <h4><a name="pub_func_init"></a><img border="0" src="../style-data/function.gif" width="10" height="9" alt="function">
<img border="0" src="../style-data/public.gif" width="15" height="15" alt="public"> 
    Init</h4>
    </td>
  </tr>
  <tr>
    <td width="10%" height="17">Description</td>
    <td width="90%" height="17">This function loads every badge data to a class 
    variable ($_badge_array). Badges are hardcoded, not dynamic, and their data 
    is set here, nowhere else.</td>
  </tr>
  <tr>
    <td width="10%" height="6">Sets</td>
    <td width="90%" height="6"><a href="#priv_var_badge_array">_badge_array</a></td>
  </tr>
  </table>

<p>&nbsp;</p>

<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="AutoNumber1" height="43">
  <tr>
    <td width="100%" colspan="2" height="1">
    <h4><a name="pub_func_grantBadge"></a><img border="0" src="../style-data/function.gif" width="10" height="9" alt="function">
<img border="0" src="../style-data/public.gif" width="15" height="15" alt="public"> 
    GrantBadge(badgeName)</h4>
    </td>
  </tr>
  <tr>
    <td width="10%" height="19">Description</td>
    <td width="90%" height="19">This function grants the set badge ($badgeName) 
    for the current user.<br>
    The badge will not be awarded if the user already have it.</td>
  </tr>
  <tr>
    <td width="10%" height="19">Parameters</td>
    <td width="90%" height="19">badgeName - codename of the badge to give</td>
  </tr>
  <tr>
    <td width="10%" height="9">Gets</td>
    <td width="90%" height="9"><a href="#priv_var_badge_array">_badge_array</a></td>
  </tr>
</table>

<p>&nbsp;</p>

<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="AutoNumber1" height="43">
  <tr>
    <td width="100%" colspan="2" height="1">
    <h4><a name="pub_func_checkBadge"></a><img border="0" src="../style-data/function.gif" width="10" height="9" alt="function">
<img border="0" src="../style-data/public.gif" width="15" height="15" alt="public"> 
    GrantBadge(badgeName, userid)</h4>
    </td>
  </tr>
  <tr>
    <td width="10%" height="19">Description</td>
    <td width="90%" height="19">This function checks whether a user has a badge 
    specified.</td>
  </tr>
  <tr>
    <td width="10%" height="10">Parameters</td>
    <td width="90%" height="10">badgeName - codename of the badge to give<br>
    userid - ID of the user to check for</td>
  </tr>
  <tr>
    <td width="10%" height="9">Returns</td>
    <td width="90%" height="9">Array containing the data of the badge recently 
    checked: picture (from badge array), localized name (from badge array), 
    localized tooltip (from badge array), earning timestamp (from database).<br>
    If the user does not have the badge, it will return the data of the <i>
    LOCKED</i> badge, with earn date set to <i>0</i>.</td>
  </tr>
  <tr>
    <td width="10%" height="9">Gets</td>
    <td width="90%" height="9"><a href="#priv_var_badge_array">_badge_array</a></td>
  </tr>
</table>

<p>&nbsp;</p>

<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="AutoNumber1" height="43">
  <tr>
    <td width="100%" colspan="2" height="1">
    <h4><a name="pub_func_badgeCount"></a><img border="0" src="../style-data/function.gif" width="10" height="9" alt="function">
<img border="0" src="../style-data/public.gif" width="15" height="15" alt="public"> 
    BadgeCount(userid)</h4>
    </td>
  </tr>
  <tr>
    <td width="10%" height="19">Description</td>
    <td width="90%" height="19">Count the number of badges a specified user 
    earned.</td>
  </tr>
  <tr>
    <td width="10%" height="10">Parameters</td>
    <td width="90%" height="10">userid - ID of the user to check for</td>
  </tr>
  <tr>
    <td width="10%" height="9">Returns</td>
    <td width="90%" height="9">Number of badges the user earned.</td>
  </tr>
</table>

<p>&nbsp;</p>

<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="AutoNumber1" height="43">
  <tr>
    <td width="100%" colspan="2" height="1">
    <h4><a name="pub_func_totalBadgeCount"></a><img border="0" src="../style-data/function.gif" width="10" height="9" alt="function">
<img border="0" src="../style-data/public.gif" width="15" height="15" alt="public"> 
    TotalBadgeCount</h4>
    </td>
  </tr>
  <tr>
    <td width="10%" height="19">Description</td>
    <td width="90%" height="19">Count the number of badges in the system</td>
  </tr>
  <tr>
    <td width="10%" height="9">Returns</td>
    <td width="90%" height="9">Number of keys in the badge array (so the number 
    of badges). Before returning, it removes 1, because the <i>LOCKED</i> badge 
    is not really a badge.</td>
  </tr>
  <tr>
    <td width="10%" height="9">Gets</td>
    <td width="90%" height="9"><a href="#priv_var_badge_array">_badge_array</a></td>
  </tr>
</table>

</body>

</html>